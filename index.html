<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>당신의 윤리 DNA는?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #718096;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .start-btn, .choice-btn, .restart-btn, .toggle-btn, .learning-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .start-btn:hover, .restart-btn:hover, .learning-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .choice-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 20px;
            margin: 15px 0;
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            font-size: 1em;
            line-height: 1.5;
        }

        .choice-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .back-btn {
            background: #cbd5e0;
            color: #4a5568;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .back-btn:hover {
            background: #a0aec0;
            transform: translateY(-1px);
        }

        .back-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .progress-text {
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question {
            font-size: 1.3em;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
            text-align: left;
        }

        .dna-container {
            margin: 30px 0;
        }

        .dna-strand {
            display: flex;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .dna-segment {
            transition: all 0.5s ease;
        }

        .philosopher-result {
            margin: 30px 0;
            text-align: left;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 30px;
        }

        .philosopher-result:last-of-type {
            border-bottom: none;
            padding-bottom: 0;
        }

        .philosopher-content {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .philosopher-image {
            width: 180px;
            height: 180px;
            border-radius: 15px;
            margin-right: 30px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border: 4px solid #667eea;
            flex-shrink: 0;
        }

        .philosopher-info h2 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.8em;
        }

        .philosopher-info .type {
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .philosopher-info .description {
            color: #4a5568;
            line-height: 1.6;
            font-size: 1em;
        }

        .philosopher-quote {
            font-style: italic;
            color: #667eea;
            margin-top: 15px;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .stats {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }

        .hidden {
            display: none;
        }

        .dna-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9em;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 8px;
        }

        .share-section {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .share-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background: #38a169;
            transform: translateY(-1px);
        }

        .learning-section {
            background: #fff5f5;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px solid #fed7d7;
        }

        .my-choices {
            margin: 20px 0;
        }

        .choice-review {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .choice-review .dilemma-title {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .choice-review .my-choice {
            color: #4a5568;
            margin-bottom: 10px;
            padding: 10px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .choice-review .explanation {
            color: #667eea;
            font-size: 0.9em;
            font-style: italic;
        }

        .other-choices {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .other-choice {
            margin: 8px 0;
            padding: 8px;
            background: white;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .toggle-btn {
            background: #e53e3e;
            font-size: 0.9em;
            padding: 8px 16px;
        }

        .toggle-btn:hover {
            background: #c53030;
        }

        @media (max-width: 768px) {
            .philosopher-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .philosopher-image {
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            .container {
                padding: 10px;
            }
            
            .game-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 메인 화면 -->
        <div id="main-screen" class="game-card">
            <h1 class="title">🧬 당신의 윤리 DNA는?</h1>
            <p class="subtitle">14개의 딜레마를 통해 당신의 윤리적 성향을 분석합니다.</p>
            <button class="start-btn" onclick="startGame()">🚀 시작하기</button>
        </div>

        <!-- 딜레마 진행 화면 -->
        <div id="game-screen" class="game-card hidden">
            <div class="navigation">
                <button class="back-btn" id="back-btn" onclick="goBack()" disabled>← 이전</button>
                <div class="progress-text" id="progress-text">1/14</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            
            <div class="question" id="question"></div>
            
            <div id="choices"></div>
        </div>

        <!-- 결과 화면 -->
        <div id="result-screen" class="game-card hidden">
            <h1 class="title">🎯 당신의 철학적 캐릭터는?</h1>
            <p class="subtitle" id="result-subtitle">당신이 선택한 14개의 딜레마 속 선택지들을 분석한 결과...</p>
            
            <div id="philosopher-results"></div>
            
            <div class="stats" id="choice-stats"></div>
            
            <div class="dna-container">
                <h3 style="margin-bottom: 15px; color: #2d3748;">🧬 당신의 윤리 DNA</h3>
                <div class="dna-strand" id="dna-strand"></div>
                <div class="dna-legend" id="dna-legend"></div>
            </div>

            <div class="learning-section">
                <h3 style="margin-bottom: 15px; color: #2d3748;">📚 당신의 선택을 다시 살펴볼까요?</h3>
                <p style="margin-bottom: 20px; color: #4a5568; line-height: 1.5;">
                    각 딜레마에서 당신이 선택한 답변과 그 철학적 배경을 확인해보세요. 
                    다른 선택지들은 어떤 철학자의 관점인지도 알아볼 수 있어요!
                </p>
                <div class="my-choices" id="my-choices"></div>
            </div>

            <div class="share-section">
                <h4 style="margin-bottom: 15px; color: #2d3748;">📤 결과 공유하기</h4>
                <button class="share-btn" onclick="shareResult()">결과 복사하기</button>
                <button class="restart-btn" onclick="restartGame()">🔄 다시 하기</button>
            </div>
        </div>
    </div>

    <script>
        // 게임 데이터
        const philosophers = {
            heidegger: { 
                name: '하이데거', 
                type: '존재를 되묻는 사람', 
                color: '#8B4513', 
                emoji: '🌌', 
                image: 'images/heidegger.png',
                keyword: '존재론적 사유'
            },
            marx: { 
                name: '마르크스', 
                type: '구조를 꿰뚫는 사람', 
                color: '#DC143C', 
                emoji: '🔥', 
                image: 'images/marx.png',
                keyword: '사회구조 분석'
            },
            mill: { 
                name: '밀', 
                type: '자유를 사랑하는 사람', 
                color: '#32CD32', 
                emoji: '🗽', 
                image: 'images/mill.png',
                keyword: '개인의 자유'
            },
            kant: { 
                name: '칸트', 
                type: '원칙을 지키는 사람', 
                color: '#4169E1', 
                emoji: '🧑‍⚖️', 
                image: 'images/kant.png',
                keyword: '도덕적 의무'
            },
            noddings: { 
                name: '나딩스', 
                type: '관계를 돌보는 사람', 
                color: '#FF69B4', 
                emoji: '❤️', 
                image: 'images/noddings.png',
                keyword: '돌봄과 관계'
            },
            rawls: { 
                name: '롤스', 
                type: '공정함을 설계하는 사람', 
                color: '#9370DB', 
                emoji: '🏛️', 
                image: 'images/rawls.png',
                keyword: '사회적 정의'
            },
            aristotle: { 
                name: '아리스토텔레스', 
                type: '성장을 중시하는 사람', 
                color: '#FF8C00', 
                emoji: '🧠', 
                image: 'images/aristotle.png',
                keyword: '덕의 함양'
            }
        };

        const dilemmas = [
            {
                question: "🧬 아이가 부모의 유전자를 선택할 수 있다면 유전자 편집 기술로 외모, 지능, 성격까지 설계 가능하다.",
                choices: [
                    { 
                        text: "아이가 자기 삶을 직접 만들어가야 한다고 믿어서, 미리 설계하는 건 좀 무서워", 
                        philosopher: "kant",
                        explanation: "인간의 존엄성과 자율성을 중시하는 칸트의 관점"
                    },
                    { 
                        text: "이런 기술은 누구에게 허용되는지부터 정해져야 한다고 생각해. 안 그러면 너무 불공평해", 
                        philosopher: "rawls",
                        explanation: "공정한 기회 배분을 중시하는 롤스의 정의론"
                    },
                    { 
                        text: "성품은 살아가면서 만들어지는 거라고 믿어. 설계된 덕은 진짜일까 싶어", 
                        philosopher: "aristotle",
                        explanation: "덕은 경험과 실천을 통해 형성된다는 아리스토텔레스의 덕윤리"
                    }
                ]
            },
            {
                question: "🤖 기계가 인간보다 더 윤리적 판단을 할 때 AI가 인간보다 공정하고 일관된 결정을 내린다.",
                choices: [
                    { 
                        text: "윤리적 판단은 사람이 직접 해야 한다고 생각해. 아무리 정확해도 기계는 좀 불안해", 
                        philosopher: "kant",
                        explanation: "도덕적 자율성은 인간만의 고유한 능력이라는 칸트의 철학"
                    },
                    { 
                        text: "결과가 더 좋다면, 누가 판단하든 상관없다고 봐. 사람보다 나으면 AI가 해도 괜찮지 않을까", 
                        philosopher: "mill",
                        explanation: "결과의 유용성을 중시하는 밀의 공리주의적 사고"
                    },
                    { 
                        text: "판단이 기술로 바뀌는 순간, 내가 진짜로 살아 있다는 감각이 흐려질 것 같아. 그게 좀 무서워", 
                        philosopher: "heidegger",
                        explanation: "기술이 인간 존재를 소외시킬 위험을 경고한 하이데거의 사상"
                    }
                ]
            },
            {
                question: "🐾 인간이 동물의 언어를 이해하게 된다면 동물의 고통, 감정, 요구를 직접 듣게 된다.",
                choices: [
                    { 
                        text: "동물이 말할 수 있다면, 그 말을 듣는 순간부터 나는 책임을 져야 한다고 느낄 것 같아", 
                        philosopher: "noddings",
                        explanation: "관계에서 생기는 돌봄의 책임을 강조한 나딩스의 돌봄윤리"
                    },
                    { 
                        text: "동물과 인간의 관계는 사회 구조 속에서 만들어진다고 생각해. 구조를 바꾸지 않으면 억압은 계속될 거야", 
                        philosopher: "marx",
                        explanation: "사회 구조와 권력 관계를 통해 현상을 분석하는 마르크스의 방법론"
                    },
                    { 
                        text: "동물과의 관계도 내가 어떤 사람으로 자라나는 데 중요한 역할을 한다고 믿어", 
                        philosopher: "aristotle",
                        explanation: "모든 관계와 경험이 덕의 형성에 기여한다는 아리스토텔레스의 관점"
                    }
                ]
            },
            {
                question: "🧠 죽은 사람의 의식을 디지털로 복원한다면 사망자의 기억과 성격을 AI로 복원하는 서비스가 출시된다.",
                choices: [
                    { 
                        text: "사랑하는 사람을 다시 만날 수 있다면, 진짜가 아니어도 받아들이고 싶어", 
                        philosopher: "mill",
                        explanation: "개인의 행복과 만족을 중시하는 밀의 공리주의"
                    },
                    { 
                        text: "이런 기술은 사회 전체가 어떻게 받아들일지 먼저 정해진 기준이 있어야 한다고 생각해", 
                        philosopher: "rawls",
                        explanation: "사회적 합의와 제도적 정의를 우선시하는 롤스의 접근"
                    },
                    { 
                        text: "죽음이 삶의 일부라고 믿기 때문에, 이런 기술은 인간다움을 흐릴 것 같아", 
                        philosopher: "heidegger",
                        explanation: "죽음을 통해 삶의 의미를 찾는다는 하이데거의 존재론적 분석"
                    }
                ]
            },
            {
                question: "🎨 예술가가 전쟁을 미화한 작품을 만들었을 때 작품은 감동적이지만, 전쟁의 참상을 미화한다는 비판이 있다.",
                choices: [
                    { 
                        text: "예술은 자유롭게 표현되어야 한다고 생각해. 감동을 주는 작품이라면 의미가 있다고 느껴", 
                        philosopher: "mill",
                        explanation: "사상과 표현의 자유를 옹호한 밀의 자유주의"
                    },
                    { 
                        text: "전쟁으로 상처받은 사람들의 감정을 고려하지 않은 작품은 조심해야 한다고 느껴", 
                        philosopher: "noddings",
                        explanation: "타인의 고통에 공감하고 배려하는 나딩스의 돌봄 윤리"
                    },
                    { 
                        text: "예술이 공동체의 기억과 존엄을 해친다면, 그건 책임져야 한다고 생각해", 
                        philosopher: "rawls",
                        explanation: "공동체의 가치와 사회적 책임을 중시하는 롤스의 관점"
                    }
                ]
            },
            {
                question: "🌱 기술로 자연을 되살릴 수 있다면 멸종된 동물을 복원하는 기술이 개발된다.",
                choices: [
                    { 
                        text: "자연을 다룰 때 인간의 태도가 중요하다고 생각해서, 이런 기술은 신중히 써야 한다고 봐", 
                        philosopher: "kant",
                        explanation: "자연에 대한 인간의 도덕적 태도를 강조한 칸트의 윤리학"
                    },
                    { 
                        text: "생명이 돈벌이 수단이 된다면, 그건 위험하다고 느껴. 자연도 자본에 종속되는 게 싫어", 
                        philosopher: "marx",
                        explanation: "자본주의가 모든 것을 상품화한다고 비판한 마르크스의 관점"
                    },
                    { 
                        text: "자연이 다시 살아난다 해도, 그게 인간의 손으로 만들어졌다는 사실이 나를 불편하게 만들어", 
                        philosopher: "heidegger",
                        explanation: "기술이 자연의 본질을 왜곡할 수 있다는 하이데거의 기술철학"
                    }
                ]
            },
            {
                question: "💊 감정을 조절하는 칩을 이식한 사람 감정을 억제하면 인간다움은 유지될 수 있을까?",
                choices: [
                    { 
                        text: "감정은 내가 누군가와 연결되는 방식이라서, 그걸 억제하면 관계도 얕아질 것 같아", 
                        philosopher: "noddings",
                        explanation: "감정이 관계 형성의 기초라고 본 나딩스의 돌봄 윤리"
                    },
                    { 
                        text: "성품은 감정을 다루는 과정에서 생긴다고 믿어. 감정을 없애면 나도 덜 자라게 될 것 같아", 
                        philosopher: "aristotle",
                        explanation: "감정의 조절을 통해 덕이 형성된다는 아리스토텔레스의 덕윤리"
                    },
                    { 
                        text: "감정이 너무 극단적일 때는 조절할 수 있는 선택권이 있는 게 오히려 자유롭다고 느껴", 
                        philosopher: "mill",
                        explanation: "개인의 선택권과 자기결정권을 중시한 밀의 자유주의"
                    }
                ]
            },
            {
                question: "🧠 기억을 조작한 전쟁 영웅 과거를 지운 병사가 영웅으로 추앙받는다.",
                choices: [
                    { 
                        text: "진실을 감추고 살아가는 건 옳지 않다고 생각해. 기억을 지우는 건 책임을 피하는 것 같아", 
                        philosopher: "kant",
                        explanation: "진실성과 도덕적 책임을 강조한 칸트의 의무윤리"
                    },
                    { 
                        text: "권력이 기억을 조작할 수 있다면, 사회 전체가 위험해질 수 있다고 느껴", 
                        philosopher: "marx",
                        explanation: "권력이 역사와 의식을 조작한다고 분석한 마르크스의 이데올로기 비판"
                    },
                    { 
                        text: "아무리 새로운 삶을 살아도, 과거가 사라졌다는 사실이 마음을 불편하게 만들어", 
                        philosopher: "heidegger",
                        explanation: "과거와의 단절이 존재의 진정성을 해친다는 하이데거의 시간론"
                    }
                ]
            },
            {
                question: "🤖 로봇이 인간의 노동을 대체할 때 인간의 노동은 점점 사라지고, 일의 의미도 달라진다.",
                choices: [
                    { 
                        text: "일은 내가 어떤 사람으로 자라나는 과정이라고 생각해. 그걸 잃는 건 아쉬워", 
                        philosopher: "aristotle",
                        explanation: "활동을 통한 자기실현을 중시한 아리스토텔레스의 인간관"
                    },
                    { 
                        text: "로봇이 일을 대신해도 사람들이 더 행복해질 수 있다면 괜찮다고 봐", 
                        philosopher: "mill",
                        explanation: "전체 행복의 증진을 목표로 하는 밀의 공리주의"
                    },
                    { 
                        text: "노동이 자본의 이익만을 위해 재편되면, 사람은 점점 주변으로 밀려나는 것 같아", 
                        philosopher: "marx",
                        explanation: "자본주의적 생산관계에서 인간 소외를 분석한 마르크스의 노동론"
                    }
                ]
            },
            {
                question: "🕶️ 가상현실 속에서만 살아가는 삶 현실보다 더 만족스러운 가상세계에 머무는 사람들.",
                choices: [
                    { 
                        text: "덕을 기르려면 현실에서 부딪히고 선택하는 경험이 필요하다고 생각해", 
                        philosopher: "aristotle",
                        explanation: "실제 경험을 통한 덕의 함양을 강조한 아리스토텔레스의 실천철학"
                    },
                    { 
                        text: "현실이 너무 고통스럽다면, 가상세계에서라도 평온함을 느끼는 게 나쁘지 않다고 봐", 
                        philosopher: "mill",
                        explanation: "개인의 행복과 고통 경감을 중시하는 밀의 쾌락주의"
                    },
                    { 
                        text: "가상세계에 오래 머물다 보면, 내가 진짜로 존재하고 있다는 감각이 흐려질 것 같아", 
                        philosopher: "heidegger",
                        explanation: "진정한 존재와 일상의 도피를 구분한 하이데거의 존재론"
                    }
                ]
            },
            {
                question: "🎭 AI가 예술을 창작할 수 있다면 AI가 감동적인 음악과 그림을 창작한다.",
                choices: [
                    { 
                        text: "감동을 줄 수 있다면, 사람이 만든 게 아니어도 괜찮다고 생각해", 
                        philosopher: "mill",
                        explanation: "결과의 가치를 중시하는 밀의 결과주의적 미학관"
                    },
                    { 
                        text: "예술이 공동체 안에서 어떤 의미를 갖는지 고민해야 한다고 생각해", 
                        philosopher: "rawls",
                        explanation: "예술의 사회적 역할과 공동체적 가치를 중시하는 롤스의 관점"
                    },
                    { 
                        text: "예술은 감정과 경험을 담아내는 과정이라서, 기계가 만든 작품엔 거리감이 느껴져", 
                        philosopher: "aristotle",
                        explanation: "인간의 경험과 감정이 예술의 핵심이라는 아리스토텔레스의 예술론"
                    }
                ]
            },
            {
                question: "🧬 생명을 연장하는 기술이 불평등하게 배분된다면 부유한 사람만 수명을 늘릴 수 있다.",
                choices: [
                    { 
                        text: "생명은 모두에게 평등하게 주어져야 한다고 생각해. 누군가만 오래 살 수 있다면, 그건 너무 불공평해", 
                        philosopher: "rawls",
                        explanation: "기본적 재화의 공정한 배분을 주장한 롤스의 정의론"
                    },
                    { 
                        text: "자본이 생명을 결정하는 순간, 사람은 점점 구조 속에서 밀려나는 것 같아", 
                        philosopher: "marx",
                        explanation: "자본의 논리가 인간 생명까지 지배한다고 본 마르크스의 비판"
                    },
                    { 
                        text: "기술이 삶을 늘려줄 수 있다면, 그 자체로 긍정적이라고 봐", 
                        philosopher: "mill",
                        explanation: "기술 발전을 통한 인간 복지 증진을 긍정한 밀의 진보주의"
                    }
                ]
            },
            {
                question: "⚖️ 법은 의도를 처벌할 수 있을까? 폭력적인 생각을 자주 표현하는 사람이 있다. 행동은 없지만, 주변은 위협을 느낀다.",
                choices: [
                    { 
                        text: "행동이 없었다면 처벌해선 안 된다고 생각해. 법은 생각이 아니라 행위를 다뤄야 하니까", 
                        philosopher: "kant",
                        explanation: "내면의 도덕법칙과 외적 행위를 구분한 칸트의 법철학"
                    },
                    { 
                        text: "모두가 안전하게 느낄 수 있는 사회가 중요하다고 생각해. 위험을 예방하려면 기준이 필요해", 
                        philosopher: "rawls",
                        explanation: "사회 안전과 예방적 정의를 중시하는 롤스의 제도적 접근"
                    },
                    { 
                        text: "기술이나 법이 사람의 내면까지 판단하려는 순간, 인간은 감시받는 존재가 되는 것 같아. 그게 불편해", 
                        philosopher: "heidegger",
                        explanation: "기술적 관리가 인간성을 위협한다고 본 하이데거의 기술철학"
                    }
                ]
            },
            {
                question: "🏛️ 공공의 안전을 위해 사적 공간을 침해할 수 있을까? 한 아파트 주민이 드론을 띄워 이웃의 베란다를 감시한다. 그는 '우리 모두의 안전을 위한 감시'라고 주장하지만, 이웃은 사생활 침해라고 느낀다.",
                choices: [
                    { 
                        text: "타인의 동의 없이 사적 공간을 들여다보는 건 존엄을 해치는 일이라고 생각해. 자유에도 책임이 따라야 해", 
                        philosopher: "kant",
                        explanation: "인격 존중과 동의의 원칙을 강조한 칸트의 인간 존엄성 이론"
                    },
                    { 
                        text: "공공장소가 아니라면, 누구든 자기 공간을 지킬 권리가 있다고 봐. 그게 자유의 최소 조건이니까", 
                        philosopher: "mill",
                        explanation: "타인에게 해를 끼치지 않을 자유의 영역을 옹호한 밀의 자유론"
                    },
                    { 
                        text: "이런 갈등이 생긴다는 건, 우리가 공공과 사적 기준을 다시 정리해야 한다는 뜻 같아. 그냥 불편함으로 넘길 수는 없어", 
                        philosopher: "rawls",
                        explanation: "공적-사적 영역의 합리적 구분을 추구한 롤스의 정치철학"
                    }
                ]
            }
        ];

        const philosopherDescriptions = {
            kant: {
                description: "당신은 도덕적 기준과 책임을 중시하는 사람입니다.<br>• 옳고 그름을 판단할 때, 결과보다 행위의 의도를 먼저 봅니다<br>• 타인의 존엄을 해치지 않기 위해, 자기 행동에 엄격한 기준을 세웁니다<br>• '모두가 따라도 괜찮은 법칙인가?'라는 질문을 자주 던집니다<br>🧭 당신은 원칙이 흔들릴 때 가장 불편함을 느낍니다",
                quote: "도덕법칙은 우리 마음속의 별이 되어야 합니다."
            },
            mill: {
                description: "당신은 개인의 선택과 자유를 가장 중요하게 생각합니다.<br>• 타인에게 해를 끼치지 않는 한, 자기 삶은 스스로 결정해야 한다고 믿습니다<br>• 감정, 예술, 기술 모두 자유로운 표현의 장으로 받아들입니다<br>• '그건 나한테 어떤 영향을 주는가?'를 기준으로 판단합니다<br>🕊️ 당신은 억압이나 강제에 가장 민감하게 반응합니다",
                quote: "자유는 타인에게 해를 끼치지 않는 한 무엇이든 할 수 있는 권리입니다."
            },
            rawls: {
                description: "당신은 사회 전체의 정의와 균형을 고민하는 사람입니다.<br>• 개인의 권리보다 공동체의 기준과 합의를 더 중요하게 여깁니다<br>• 불평등을 줄이기 위한 제도적 장치에 관심이 많습니다<br>• '만약 내가 가장 약한 위치였다면?'이라는 질문을 자주 떠올립니다<br>⚖️ 당신은 불공정한 구조에 가장 강한 문제의식을 느낍니다",
                quote: "정의는 사회제도의 첫 번째 덕목입니다."
            },
            noddings: {
                description: "당신은 타인의 감정과 상황에 민감하게 반응하는 사람입니다.<br>• 윤리적 판단에서 배려와 공감을 가장 중요한 기준으로 삼습니다<br>• 기술이나 제도보다 사람 사이의 연결을 더 깊게 봅니다<br>• '그 사람은 지금 어떤 감정을 느낄까?'라는 질문이 행동의 출발점입니다<br>🌿 당신은 무관심이나 단절에 가장 큰 불편함을 느낍니다",
                quote: "진정한 윤리는 관계 속에서 태어납니다."
            },
            marx: {
                description: "당신은 겉으로 드러난 현상보다, 그 뒤의 구조를 먼저 봅니다.<br>• 자본, 권력, 기술이 인간을 어떻게 소외시키는지에 민감합니다<br>• 개인의 선택보다 사회적 조건과 억압을 더 중요하게 여깁니다<br>• '이건 누구에게 이익이 되는가?'라는 질문을 자주 던집니다<br>🧱 당신은 불평등이 반복되는 구조에 가장 큰 분노를 느낍니다",
                quote: "철학자들은 세상을 해석했을 뿐, 중요한 것은 세상을 바꾸는 것입니다."
            },
            aristotle: {
                description: "당신은 인간이 경험을 통해 성장한다고 믿는 사람입니다.<br>• 덕은 타고나는 게 아니라, 삶 속에서 길러진다고 생각합니다<br>• 기술이나 편리함보다 부딪히고 선택하는 과정을 더 중요하게 여깁니다<br>• '나는 어떤 사람으로 자라고 있는가?'라는 질문을 자주 떠올립니다<br>🌱 당신은 성장을 방해하는 환경에 가장 큰 저항감을 느낍니다",
                quote: "우리는 반복적으로 하는 행동의 결과입니다."
            },
            heidegger: {
                description: "당신은 삶의 방식과 존재의 의미를 끊임없이 되묻는 사람입니다.<br>• 기술이 삶을 바꾸는 방식에 대해 불안과 경계심을 갖고 있습니다<br>• 인간다움이 흐려지는 순간, 존재의 본질을 다시 생각하게 됩니다<br>• '나는 지금 진짜로 존재하고 있는가?'라는 질문이 늘 마음속에 있습니다<br>🕳️ 당신은 삶이 기능으로만 설명될 때 가장 깊은 불편함을 느낍니다",
                quote: "존재한다는 것은 무엇인가? 이것이 철학의 근본 질문입니다."
            }
        };

        // 게임 상태
        let currentDilemma = 0;
        let choices = [];
        let gameStarted = false;

        function startGame() {
            document.getElementById('main-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            currentDilemma = 0;
            choices = [];
            showDilemma();
        }

        function showDilemma() {
            if (currentDilemma >= dilemmas.length) {
                showResults();
                return;
            }

            const dilemma = dilemmas[currentDilemma];
            const progress = ((currentDilemma + 1) / dilemmas.length) * 100;

            document.getElementById('progress-text').textContent = `${currentDilemma + 1}/${dilemmas.length}`;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('question').innerHTML = `<strong>나라면?</strong><br><br>${dilemma.question}`;

            // 뒤로가기 버튼 상태 업데이트
            const backBtn = document.getElementById('back-btn');
            backBtn.disabled = currentDilemma === 0;

            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';

            dilemma.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.innerHTML = `${index + 1}. ${choice.text}`;
                button.onclick = () => selectChoice(choice.philosopher, choice);
                choicesContainer.appendChild(button);
            });
        }

        function selectChoice(philosopher, choiceData) {
            choices.push({
                philosopher: philosopher,
                dilemma: currentDilemma,
                choice: choiceData
            });
            currentDilemma++;
            
            // 부드러운 전환 효과
            setTimeout(() => {
                showDilemma();
            }, 200);
        }

        function goBack() {
            if (currentDilemma > 0) {
                currentDilemma--;
                choices.pop(); // 마지막 선택 제거
                showDilemma();
            }
        }

        function showResults() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            // 철학자별 선택 횟수 계산
            const counts = {};
            choices.forEach(choice => {
                counts[choice.philosopher] = (counts[choice.philosopher] || 0) + 1;
            });

            // 최고점 찾기
            const maxCount = Math.max(...Object.values(counts));
            const topPhilosophers = Object.keys(counts).filter(key => counts[key] === maxCount);

            // 결과 제목 업데이트
            const subtitle = document.getElementById('result-subtitle');
            if (topPhilosophers.length > 1) {
                subtitle.textContent = `당신은 ${topPhilosophers.length}명의 철학자와 동일한 성향을 보였습니다.`;
            } else {
                subtitle.textContent = "당신이 선택한 14개의 딜레마 속 선택지들을 분석한 결과...";
            }

            // 결과 표시
            const resultsContainer = document.getElementById('philosopher-results');
            resultsContainer.innerHTML = '';

            topPhilosophers.forEach((philosopherKey, index) => {
                const philosopher = philosophers[philosopherKey];
                const description = philosopherDescriptions[philosopherKey];

                const resultDiv = document.createElement('div');
                resultDiv.className = 'philosopher-result';
                resultDiv.innerHTML = `
                    <div class="philosopher-content">
                        <div class="philosopher-image" style="background-image: url('${philosopher.image}');"></div>
                        <div class="philosopher-info">
                            <h2>${philosopher.emoji} ${philosopher.name}형</h2>
                            <div class="type">"${philosopher.type}"</div>
                            <div class="description">${description.description}</div>
                        </div>
                    </div>
                    <div class="philosopher-quote">
                        "${description.quote}"
                    </div>
                `;
                resultsContainer.appendChild(resultDiv);
            });

            // 선택 통계
            const stats = document.getElementById('choice-stats');
            const dominantCount = maxCount;
            const statsText = topPhilosophers.length > 1 
                ? `각각 14개 딜레마 중 <strong>${dominantCount}개</strong>씩에서 일치하는 선택을 보였습니다.`
                : `14개 딜레마 중 <strong>${dominantCount}개</strong>에서 ${philosophers[topPhilosophers[0]].name}의 관점과 일치했습니다.`;
            
            stats.innerHTML = `
                <h4 style="margin-bottom: 10px; color: #2d3748;">📊 당신의 선택 패턴</h4>
                <p>${statsText}</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #718096;">
                    ${generateChoiceInsight(topPhilosophers, dominantCount)}
                </p>
            `;

            // DNA strand 시각화
            showDNAStrand(counts);
            
            // 학습 섹션 표시
            showLearningSection();
        }

        function showDNAStrand(counts) {
            const strand = document.getElementById('dna-strand');
            const legend = document.getElementById('dna-legend');
            
            strand.innerHTML = '';
            legend.innerHTML = '';

            const total = choices.length;
            
            Object.keys(philosophers).forEach(key => {
                const count = counts[key] || 0;
                const percentage = (count / total) * 100;
                
                if (count > 0) {
                    // DNA segment
                    const segment = document.createElement('div');
                    segment.className = 'dna-segment';
                    segment.style.width = `${percentage}%`;
                    segment.style.backgroundColor = philosophers[key].color;
                    segment.title = `${philosophers[key].name}: ${count}회 (${percentage.toFixed(1)}%)`;
                    strand.appendChild(segment);

                    // Legend
                    const legendItem = document.createElement('div');
                    legendItem.className = 'legend-item';
                    legendItem.innerHTML = `
                        <div class="legend-color" style="background: ${philosophers[key].color}"></div>
                        ${philosophers[key].name} ${percentage.toFixed(1)}%
                    `;
                    legend.appendChild(legendItem);
                }
            });
        }

        function showLearningSection() {
            const container = document.getElementById('my-choices');
            container.innerHTML = '';

            choices.forEach((userChoice, index) => {
                const dilemma = dilemmas[index];
                const choiceDiv = document.createElement('div');
                choiceDiv.className = 'choice-review';
                
                const philosopher = philosophers[userChoice.philosopher];
                const otherChoices = dilemma.choices.filter(c => c.philosopher !== userChoice.philosopher);

                choiceDiv.innerHTML = `
                    <div class="dilemma-title">📋 딜레마 ${index + 1}: ${dilemma.question.split(' ')[1]} ${dilemma.question.split(' ')[2]}</div>
                    <div class="my-choice">
                        <strong>당신의 선택:</strong> "${userChoice.choice.text}"
                    </div>
                    <div class="explanation">
                        → 이는 <strong>${philosopher.name}</strong>의 "${philosopher.keyword}" 관점입니다.<br>
                        ${userChoice.choice.explanation}
                    </div>
                    <button class="toggle-btn" onclick="toggleOtherChoices(${index})">다른 선택지들 보기 ▼</button>
                    <div class="other-choices hidden" id="other-choices-${index}">
                        <strong>다른 선택지들은?</strong>
                        ${otherChoices.map(choice => {
                            const otherPhil = philosophers[choice.philosopher];
                            return `
                                <div class="other-choice">
                                    <strong>${otherPhil.emoji} ${otherPhil.name}:</strong> "${choice.text}"<br>
                                    <small style="color: #666;">${choice.explanation}</small>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                
                container.appendChild(choiceDiv);
            });
        }

        function toggleOtherChoices(index) {
            const otherChoices = document.getElementById(`other-choices-${index}`);
            const button = otherChoices.previousElementSibling;
            
            if (otherChoices.classList.contains('hidden')) {
                otherChoices.classList.remove('hidden');
                button.innerHTML = '다른 선택지들 숨기기 ▲';
            } else {
                otherChoices.classList.add('hidden');
                button.innerHTML = '다른 선택지들 보기 ▼';
            }
        }

        function generateChoiceInsight(topPhilosophers, count) {
            if (topPhilosophers.length > 1) {
                const names = topPhilosophers.map(key => philosophers[key].name).join(', ');
                return `당신은 ${names}의 사상이 조화롭게 섞인 복합적 성향을 가지고 있습니다.`;
            }
            
            const insights = {
                kant: "당신은 일관된 원칙을 바탕으로 판단하는 경향이 강합니다.",
                mill: "당신은 개인의 자유와 선택권을 매우 중요하게 생각합니다.",
                rawls: "당신은 사회적 공정성과 제도적 해결책을 선호합니다.",
                noddings: "당신은 관계와 배려를 중심으로 윤리적 판단을 내립니다.",
                marx: "당신은 사회 구조와 권력 관계에 민감하게 반응합니다.",
                aristotle: "당신은 개인의 성장과 덕의 함양을 중시합니다.",
                heidegger: "당신은 존재의 본질과 인간다움에 대해 깊이 사고합니다."
            };
            
            return insights[topPhilosophers[0]] || "";
        }

        function shareResult() {
            const counts = {};
            choices.forEach(choice => {
                counts[choice.philosopher] = (counts[choice.philosopher] || 0) + 1;
            });

            const maxCount = Math.max(...Object.values(counts));
            const topPhilosophers = Object.keys(counts).filter(key => counts[key] === maxCount);

            let shareText;
            if (topPhilosophers.length > 1) {
                const names = topPhilosophers.map(key => philosophers[key].name).join(', ');
                const emojis = topPhilosophers.map(key => philosophers[key].emoji).join('');
                shareText = `🧬 나의 윤리 DNA 결과\n\n${emojis} ${names}형 (복합)\n\n각각 14개 딜레마 중 ${maxCount}개씩 일치!\n\n당신의 윤리 DNA는? → [게임 링크]`;
            } else {
                const philosopher = philosophers[topPhilosophers[0]];
                shareText = `🧬 나의 윤리 DNA 결과\n\n${philosopher.emoji} ${philosopher.name}형 - "${philosopher.type}"\n\n14개 딜레마 중 ${maxCount}개에서 ${philosopher.name}의 관점과 일치!\n\n당신의 윤리 DNA는? → [게임 링크]`;
            }
            
            navigator.clipboard.writeText(shareText).then(() => {
                alert('결과가 복사되었습니다! 친구들과 공유해보세요 🎉');
            }).catch(() => {
                alert('복사에 실패했습니다. 수동으로 복사해주세요.');
            });
        }

        function restartGame() {
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('main-screen').classList.remove('hidden');
            currentDilemma = 0;
            choices = [];
        }

        // 키보드 단축키
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('game-screen').classList.contains('hidden')) return;
            
            if (e.key >= '1' && e.key <= '3') {
                const choiceIndex = parseInt(e.key) - 1;
                const dilemma = dilemmas[currentDilemma];
                if (dilemma && dilemma.choices[choiceIndex]) {
                    selectChoice(dilemma.choices[choiceIndex].philosopher, dilemma.choices[choiceIndex]);
                }
            }
        });
    </script>
</body>
</html>
