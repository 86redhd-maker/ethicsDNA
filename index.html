<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>당신의 윤리 DNA는?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .title {
            font-size: 2.5em;
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #718096;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .start-btn, .choice-btn, .restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .start-btn:hover, .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .choice-btn {
            display: block;
            width: 100%;
            text-align: left;
            padding: 20px;
            margin: 15px 0;
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
            font-size: 1em;
            line-height: 1.5;
        }

        .choice-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .progress-text {
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .question {
            font-size: 1.3em;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
            text-align: left;
        }

        .dna-container {
            margin: 30px 0;
        }

        .dna-strand {
            display: flex;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .dna-segment {
            transition: all 0.5s ease;
        }

        .philosopher-result {
            display: flex;
            align-items: center;
            margin: 30px 0;
            text-align: left;
        }

        .philosopher-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-right: 30px;
            background-size: cover;
            background-position: center;
            border: 4px solid #667eea;
        }

        .philosopher-info h2 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 1.8em;
        }

        .philosopher-info .type {
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .philosopher-info .description {
            color: #4a5568;
            line-height: 1.6;
            font-size: 1em;
        }

        .stats {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }

        .hidden {
            display: none;
        }

        .dna-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.9em;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 8px;
        }

        .share-section {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .share-btn {
            background: #48bb78;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background: #38a169;
            transform: translateY(-1px);
        }

        .back-btn {
            background: #cbd5e0;
            color: #4a5568;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-right: 10px;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .back-btn:hover {
            background: #a0aec0;
            transform: translateY(-1px);
        }

        .back-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 메인 화면 -->
        <div id="main-screen" class="game-card">
            <h1 class="title">🧬 당신의 윤리 DNA는?</h1>
            <p class="subtitle">14개의 딜레마를 통해 당신의 윤리적 성향을 분석합니다.</p>
            <button class="start-btn" onclick="startGame()">🚀 시작하기</button>
        </div>

        <!-- 딜레마 진행 화면 -->
        <div id="game-screen" class="game-card hidden">
            <div class="navigation">
                <button class="back-btn" id="back-btn" onclick="goBack()" disabled>← 이전</button>
                <div class="progress-text" id="progress-text">1/14</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            
            <div class="question" id="question"></div>
            
            <div id="choices"></div>
        </div>

        <!-- 결과 화면 -->
        <div id="result-screen" class="game-card hidden">
            <h1 class="title">🎯 당신의 철학적 캐릭터는?</h1>
            <p class="subtitle">당신이 선택한 14개의 딜레마 속 선택지들을 분석한 결과...</p>
            
            <div class="philosopher-result" id="philosopher-result"></div>
            
            <div class="stats" id="choice-stats"></div>
            
            <div class="dna-container">
                <h3 style="margin-bottom: 15px; color: #2d3748;">🧬 당신의 윤리 DNA</h3>
                <div class="dna-strand" id="dna-strand"></div>
                <div class="dna-legend" id="dna-legend"></div>
            </div>

            <div class="share-section">
                <h4 style="margin-bottom: 15px; color: #2d3748;">📤 결과 공유하기</h4>
                <button class="share-btn" onclick="shareResult()">결과 복사하기</button>
                <button class="restart-btn" onclick="restartGame()">🔄 다시 하기</button>
            </div>
        </div>
    </div>

    <script>
        // 게임 데이터
        const philosophers = {
            heidegger: { name: '하이데거', type: '존재를 되묻는 사람', color: '#8B4513', emoji: '🌌', image: 'images/heidegger.png' },
            marx: { name: '마르크스', type: '구조를 꿰뚫는 사람', color: '#DC143C', emoji: '🔥', image: 'images/marx.png' },
            mill: { name: '밀', type: '자유를 사랑하는 사람', color: '#32CD32', emoji: '🗽', image: 'images/mill.png' },
            kant: { name: '칸트', type: '원칙을 지키는 사람', color: '#4169E1', emoji: '🧑‍⚖️', image: 'images/kant.png' },
            noddings: { name: '나딩스', type: '관계를 돌보는 사람', color: '#FF69B4', emoji: '❤️', image: 'images/noddings.png' },
            rawls: { name: '롤스', type: '공정함을 설계하는 사람', color: '#9370DB', emoji: '🏛️', image: 'images/rawls.png' },
            aristotle: { name: '아리스토텔레스', type: '성장을 중시하는 사람', color: '#FF8C00', emoji: '🧠', image: 'images/aristotle.png' }
        };

        const dilemmas = [
            {
                question: "🧬 아이가 부모의 유전자를 선택할 수 있다면 유전자 편집 기술로 외모, 지능, 성격까지 설계 가능하다.",
                choices: [
                    { text: "아이가 자기 삶을 직접 만들어가야 한다고 믿어서, 미리 설계하는 건 좀 무서워", philosopher: "kant" },
                    { text: "이런 기술은 누구에게 허용되는지부터 정해져야 한다고 생각해. 안 그러면 너무 불공평해", philosopher: "rawls" },
                    { text: "성품은 살아가면서 만들어지는 거라고 믿어. 설계된 덕은 진짜일까 싶어", philosopher: "aristotle" }
                ]
            },
            {
                question: "🤖 기계가 인간보다 더 윤리적 판단을 할 때 AI가 인간보다 공정하고 일관된 결정을 내린다.",
                choices: [
                    { text: "윤리적 판단은 사람이 직접 해야 한다고 생각해. 아무리 정확해도 기계는 좀 불안해", philosopher: "kant" },
                    { text: "결과가 더 좋다면, 누가 판단하든 상관없다고 봐. 사람보다 나으면 AI가 해도 괜찮지 않을까", philosopher: "mill" },
                    { text: "판단이 기술로 바뀌는 순간, 내가 진짜로 살아 있다는 감각이 흐려질 것 같아. 그게 좀 무서워", philosopher: "heidegger" }
                ]
            },
            {
                question: "🐾 인간이 동물의 언어를 이해하게 된다면 동물의 고통, 감정, 요구를 직접 듣게 된다.",
                choices: [
                    { text: "동물이 말할 수 있다면, 그 말을 듣는 순간부터 나는 책임을 져야 한다고 느낄 것 같아", philosopher: "noddings" },
                    { text: "동물과 인간의 관계는 사회 구조 속에서 만들어진다고 생각해. 구조를 바꾸지 않으면 억압은 계속될 거야", philosopher: "marx" },
                    { text: "동물과의 관계도 내가 어떤 사람으로 자라나는 데 중요한 역할을 한다고 믿어", philosopher: "aristotle" }
                ]
            },
            {
                question: "🧠 죽은 사람의 의식을 디지털로 복원한다면 사망자의 기억과 성격을 AI로 복원하는 서비스가 출시된다.",
                choices: [
                    { text: "사랑하는 사람을 다시 만날 수 있다면, 진짜가 아니어도 받아들이고 싶어", philosopher: "mill" },
                    { text: "이런 기술은 사회 전체가 어떻게 받아들일지 먼저 정해진 기준이 있어야 한다고 생각해", philosopher: "rawls" },
                    { text: "죽음이 삶의 일부라고 믿기 때문에, 이런 기술은 인간다움을 흐릴 것 같아", philosopher: "heidegger" }
                ]
            },
            {
                question: "🎨 예술가가 전쟁을 미화한 작품을 만들었을 때 작품은 감동적이지만, 전쟁의 참상을 미화한다는 비판이 있다.",
                choices: [
                    { text: "예술은 자유롭게 표현되어야 한다고 생각해. 감동을 주는 작품이라면 의미가 있다고 느껴", philosopher: "mill" },
                    { text: "전쟁으로 상처받은 사람들의 감정을 고려하지 않은 작품은 조심해야 한다고 느껴", philosopher: "noddings" },
                    { text: "예술이 공동체의 기억과 존엄을 해친다면, 그건 책임져야 한다고 생각해", philosopher: "rawls" }
                ]
            },
            {
                question: "🌱 기술로 자연을 되살릴 수 있다면 멸종된 동물을 복원하는 기술이 개발된다.",
                choices: [
                    { text: "자연을 다룰 때 인간의 태도가 중요하다고 생각해서, 이런 기술은 신중히 써야 한다고 봐", philosopher: "kant" },
                    { text: "생명이 돈벌이 수단이 된다면, 그건 위험하다고 느껴. 자연도 자본에 종속되는 게 싫어", philosopher: "marx" },
                    { text: "자연이 다시 살아난다 해도, 그게 인간의 손으로 만들어졌다는 사실이 나를 불편하게 만들어", philosopher: "heidegger" }
                ]
            },
            {
                question: "💊 감정을 조절하는 칩을 이식한 사람 감정을 억제하면 인간다움은 유지될 수 있을까?",
                choices: [
                    { text: "감정은 내가 누군가와 연결되는 방식이라서, 그걸 억제하면 관계도 얕아질 것 같아", philosopher: "noddings" },
                    { text: "성품은 감정을 다루는 과정에서 생긴다고 믿어. 감정을 없애면 나도 덜 자라게 될 것 같아", philosopher: "aristotle" },
                    { text: "감정이 너무 극단적일 때는 조절할 수 있는 선택권이 있는 게 오히려 자유롭다고 느껴", philosopher: "mill" }
                ]
            },
            {
                question: "🧠 기억을 조작한 전쟁 영웅 과거를 지운 병사가 영웅으로 추앙받는다.",
                choices: [
                    { text: "진실을 감추고 살아가는 건 옳지 않다고 생각해. 기억을 지우는 건 책임을 피하는 것 같아", philosopher: "kant" },
                    { text: "권력이 기억을 조작할 수 있다면, 사회 전체가 위험해질 수 있다고 느껴", philosopher: "marx" },
                    { text: "아무리 새로운 삶을 살아도, 과거가 사라졌다는 사실이 마음을 불편하게 만들어", philosopher: "heidegger" }
                ]
            },
            {
                question: "🤖 로봇이 인간의 노동을 대체할 때 인간의 노동은 점점 사라지고, 일의 의미도 달라진다.",
                choices: [
                    { text: "일은 내가 어떤 사람으로 자라나는 과정이라고 생각해. 그걸 잃는 건 아쉬워", philosopher: "aristotle" },
                    { text: "로봇이 일을 대신해도 사람들이 더 행복해질 수 있다면 괜찮다고 봐", philosopher: "mill" },
                    { text: "노동이 자본의 이익만을 위해 재편되면, 사람은 점점 주변으로 밀려나는 것 같아", philosopher: "marx" }
                ]
            },
            {
                question: "🕶️ 가상현실 속에서만 살아가는 삶 현실보다 더 만족스러운 가상세계에 머무는 사람들.",
                choices: [
                    { text: "덕을 기르려면 현실에서 부딪히고 선택하는 경험이 필요하다고 생각해", philosopher: "aristotle" },
                    { text: "현실이 너무 고통스럽다면, 가상세계에서라도 평온함을 느끼는 게 나쁘지 않다고 봐", philosopher: "mill" },
                    { text: "가상세계에 오래 머물다 보면, 내가 진짜로 존재하고 있다는 감각이 흐려질 것 같아", philosopher: "heidegger" }
                ]
            },
            {
                question: "🎭 AI가 예술을 창작할 수 있다면 AI가 감동적인 음악과 그림을 창작한다.",
                choices: [
                    { text: "감동을 줄 수 있다면, 사람이 만든 게 아니어도 괜찮다고 생각해", philosopher: "mill" },
                    { text: "예술이 공동체 안에서 어떤 의미를 갖는지 고민해야 한다고 생각해", philosopher: "rawls" },
                    { text: "예술은 감정과 경험을 담아내는 과정이라서, 기계가 만든 작품엔 거리감이 느껴져", philosopher: "aristotle" }
                ]
            },
            {
                question: "🧬 생명을 연장하는 기술이 불평등하게 배분된다면 부유한 사람만 수명을 늘릴 수 있다.",
                choices: [
                    { text: "생명은 모두에게 평등하게 주어져야 한다고 생각해. 누군가만 오래 살 수 있다면, 그건 너무 불공평해", philosopher: "rawls" },
                    { text: "자본이 생명을 결정하는 순간, 사람은 점점 구조 속에서 밀려나는 것 같아", philosopher: "marx" },
                    { text: "기술이 삶을 늘려줄 수 있다면, 그 자체로 긍정적이라고 봐", philosopher: "mill" }
                ]
            },
            {
                question: "⚖️ 법은 의도를 처벌할 수 있을까? 폭력적인 생각을 자주 표현하는 사람이 있다. 행동은 없지만, 주변은 위협을 느낀다.",
                choices: [
                    { text: "행동이 없었다면 처벌해선 안 된다고 생각해. 법은 생각이 아니라 행위를 다뤄야 하니까", philosopher: "kant" },
                    { text: "모두가 안전하게 느낄 수 있는 사회가 중요하다고 생각해. 위험을 예방하려면 기준이 필요해", philosopher: "rawls" },
                    { text: "기술이나 법이 사람의 내면까지 판단하려는 순간, 인간은 감시받는 존재가 되는 것 같아. 그게 불편해", philosopher: "heidegger" }
                ]
            },
            {
                question: "🏛️ 공공의 안전을 위해 사적 공간을 침해할 수 있을까? 한 아파트 주민이 드론을 띄워 이웃의 베란다를 감시한다. 그는 '우리 모두의 안전을 위한 감시'라고 주장하지만, 이웃은 사생활 침해라고 느낀다.",
                choices: [
                    { text: "타인의 동의 없이 사적 공간을 들여다보는 건 존엄을 해치는 일이라고 생각해. 자유에도 책임이 따라야 해", philosopher: "kant" },
                    { text: "공공장소가 아니라면, 누구든 자기 공간을 지킬 권리가 있다고 봐. 그게 자유의 최소 조건이니까", philosopher: "mill" },
                    { text: "이런 갈등이 생긴다는 건, 우리가 공공과 사적 기준을 다시 정리해야 한다는 뜻 같아. 그냥 불편함으로 넘길 수는 없어", philosopher: "rawls" }
                ]
            }
        ];

        const philosopherDescriptions = {
            kant: {
                description: "당신은 도덕적 기준과 책임을 중시하는 사람입니다.<br>• 옳고 그름을 판단할 때, 결과보다 행위의 의도를 먼저 봅니다<br>• 타인의 존엄을 해치지 않기 위해, 자기 행동에 엄격한 기준을 세웁니다<br>• '모두가 따라도 괜찮은 법칙인가?'라는 질문을 자주 던집니다<br>🧭 당신은 원칙이 흔들릴 때 가장 불편함을 느낍니다",
                quote: "도덕법칙은 우리 마음속의 별이 되어야 합니다."
            },
            mill: {
                description: "당신은 개인의 선택과 자유를 가장 중요하게 생각합니다.<br>• 타인에게 해를 끼치지 않는 한, 자기 삶은 스스로 결정해야 한다고 믿습니다<br>• 감정, 예술, 기술 모두 자유로운 표현의 장으로 받아들입니다<br>• '그건 나한테 어떤 영향을 주는가?'를 기준으로 판단합니다<br>🕊️ 당신은 억압이나 강제에 가장 민감하게 반응합니다",
                quote: "자유는 타인에게 해를 끼치지 않는 한 무엇이든 할 수 있는 권리입니다."
            },
            rawls: {
                description: "당신은 사회 전체의 정의와 균형을 고민하는 사람입니다.<br>• 개인의 권리보다 공동체의 기준과 합의를 더 중요하게 여깁니다<br>• 불평등을 줄이기 위한 제도적 장치에 관심이 많습니다<br>• '만약 내가 가장 약한 위치였다면?'이라는 질문을 자주 떠올립니다<br>⚖️ 당신은 불공정한 구조에 가장 강한 문제의식을 느낍니다",
                quote: "정의는 사회제도의 첫 번째 덕목입니다."
            },
            noddings: {
                description: "당신은 타인의 감정과 상황에 민감하게 반응하는 사람입니다.<br>• 윤리적 판단에서 배려와 공감을 가장 중요한 기준으로 삼습니다<br>• 기술이나 제도보다 사람 사이의 연결을 더 깊게 봅니다<br>• '그 사람은 지금 어떤 감정을 느낄까?'라는 질문이 행동의 출발점입니다<br>🌿 당신은 무관심이나 단절에 가장 큰 불편함을 느낍니다",
                quote: "진정한 윤리는 관계 속에서 태어납니다."
            },
            marx: {
                description: "당신은 겉으로 드러난 현상보다, 그 뒤의 구조를 먼저 봅니다.<br>• 자본, 권력, 기술이 인간을 어떻게 소외시키는지에 민감합니다<br>• 개인의 선택보다 사회적 조건과 억압을 더 중요하게 여깁니다<br>• '이건 누구에게 이익이 되는가?'라는 질문을 자주 던집니다<br>🧱 당신은 불평등이 반복되는 구조에 가장 큰 분노를 느낍니다",
                quote: "철학자들은 세상을 해석했을 뿐, 중요한 것은 세상을 바꾸는 것입니다."
            },
            aristotle: {
                description: "당신은 인간이 경험을 통해 성장한다고 믿는 사람입니다.<br>• 덕은 타고나는 게 아니라, 삶 속에서 길러진다고 생각합니다<br>• 기술이나 편리함보다 부딪히고 선택하는 과정을 더 중요하게 여깁니다<br>• '나는 어떤 사람으로 자라고 있는가?'라는 질문을 자주 떠올립니다<br>🌱 당신은 성장을 방해하는 환경에 가장 큰 저항감을 느낍니다",
                quote: "우리는 반복적으로 하는 행동의 결과입니다."
            },
            heidegger: {
                description: "당신은 삶의 방식과 존재의 의미를 끊임없이 되묻는 사람입니다.<br>• 기술이 삶을 바꾸는 방식에 대해 불안과 경계심을 갖고 있습니다<br>• 인간다움이 흐려지는 순간, 존재의 본질을 다시 생각하게 됩니다<br>• '나는 지금 진짜로 존재하고 있는가?'라는 질문이 늘 마음속에 있습니다<br>🕳️ 당신은 삶이 기능으로만 설명될 때 가장 깊은 불편함을 느낍니다",
                quote: "존재한다는 것은 무엇인가? 이것이 철학의 근본 질문입니다."
            }
        };

        // 게임 상태
        let currentDilemma = 0;
        let choices = [];
        let gameStarted = false;

        function startGame() {
            document.getElementById('main-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            currentDilemma = 0;
            choices = [];
            showDilemma();
        }

        function showDilemma() {
            if (currentDilemma >= dilemmas.length) {
                showResults();
                return;
            }

            const dilemma = dilemmas[currentDilemma];
            const progress = ((currentDilemma + 1) / dilemmas.length) * 100;

            document.getElementById('progress-text').textContent = `${currentDilemma + 1}/${dilemmas.length}`;
            document.getElementById('progress-fill').style.width = `${progress}%`;
            document.getElementById('question').innerHTML = `<strong>나라면?</strong><br><br>${dilemma.question}`;

            // 뒤로가기 버튼 상태 업데이트
            const backBtn = document.getElementById('back-btn');
            backBtn.disabled = currentDilemma === 0;

            const choicesContainer = document.getElementById('choices');
            choicesContainer.innerHTML = '';

            dilemma.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.innerHTML = `${index + 1}. ${choice.text}`;
                button.onclick = () => selectChoice(choice.philosopher);
                choicesContainer.appendChild(button);
            });
        }

        function selectChoice(philosopher) {
            choices.push(philosopher);
            currentDilemma++;
            
            // 부드러운 전환 효과
            setTimeout(() => {
                showDilemma();
            }, 200);
        }

        function goBack() {
            if (currentDilemma > 0) {
                currentDilemma--;
                choices.pop(); // 마지막 선택 제거
                showDilemma();
            }
        }

        function showResults() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');

            // 가장 많이 선택된 철학자 계산
            const counts = {};
            choices.forEach(choice => {
                counts[choice] = (counts[choice] || 0) + 1;
            });

            const dominantPhilosopher = Object.keys(counts).reduce((a, b) => 
                counts[a] > counts[b] ? a : b
            );

            const philosopher = philosophers[dominantPhilosopher];
            const description = philosopherDescriptions[dominantPhilosopher];

            // 결과 표시
            const resultContainer = document.getElementById('philosopher-result');
            resultContainer.innerHTML = `
                <div class="philosopher-image" style="background-image: url('${philosopher.image}'); background-size: cover; background-position: center;">
                </div>
                <div class="philosopher-info">
                    <h2>${philosopher.emoji} ${philosopher.name}형</h2>
                    <div class="type">"${philosopher.type}"</div>
                    <div class="description">${description.description}</div>
                    <div style="margin-top: 15px; font-style: italic; color: #667eea;">
                        "${description.quote}"
                    </div>
                </div>
            `;

            // 선택 통계
            const stats = document.getElementById('choice-stats');
            const dominantCount = counts[dominantPhilosopher];
            stats.innerHTML = `
                <h4 style="margin-bottom: 10px; color: #2d3748;">📊 당신의 선택 패턴</h4>
                <p>14개 딜레마 중 <strong>${dominantCount}개</strong>에서 ${philosopher.name}의 관점과 일치했습니다.</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #718096;">
                    ${generateChoiceInsight(dominantPhilosopher, dominantCount)}
                </p>
            `;

            // DNA strand 시각화
            showDNAStrand(counts);
        }

        function showDNAStrand(counts) {
            const strand = document.getElementById('dna-strand');
            const legend = document.getElementById('dna-legend');
            
            strand.innerHTML = '';
            legend.innerHTML = '';

            const total = choices.length;
            
            Object.keys(philosophers).forEach(key => {
                const count = counts[key] || 0;
                const percentage = (count / total) * 100;
                
                if (count > 0) {
                    // DNA segment
                    const segment = document.createElement('div');
                    segment.className = 'dna-segment';
                    segment.style.width = `${percentage}%`;
                    segment.style.backgroundColor = philosophers[key].color;
                    segment.title = `${philosophers[key].name}: ${count}회 (${percentage.toFixed(1)}%)`;
                    strand.appendChild(segment);

                    // Legend
                    const legendItem = document.createElement('div');
                    legendItem.className = 'legend-item';
                    legendItem.innerHTML = `
                        <div class="legend-color" style="background: ${philosophers[key].color}"></div>
                        ${philosophers[key].name} ${percentage.toFixed(1)}%
                    `;
                    legend.appendChild(legendItem);
                }
            });
        }

        function generateChoiceInsight(dominantPhilosopher, count) {
            const insights = {
                kant: "당신은 일관된 원칙을 바탕으로 판단하는 경향이 강합니다.",
                mill: "당신은 개인의 자유와 선택권을 매우 중요하게 생각합니다.",
                rawls: "당신은 사회적 공정성과 제도적 해결책을 선호합니다.",
                noddings: "당신은 관계와 배려를 중심으로 윤리적 판단을 내립니다.",
                marx: "당신은 사회 구조와 권력 관계에 민감하게 반응합니다.",
                aristotle: "당신은 개인의 성장과 덕의 함양을 중시합니다.",
                heidegger: "당신은 존재의 본질과 인간다움에 대해 깊이 사고합니다."
            };
            
            return insights[dominantPhilosopher] || "";
        }

        function shareResult() {
            const dominantPhilosopher = Object.keys(philosophers).reduce((a, b) => {
                const countA = choices.filter(c => c === a).length;
                const countB = choices.filter(c => c === b).length;
                return countA > countB ? a : b;
            });

            const philosopher = philosophers[dominantPhilosopher];
            const count = choices.filter(c => c === dominantPhilosopher).length;
            
            const shareText = `🧬 나의 윤리 DNA 결과\n\n${philosopher.emoji} ${philosopher.name}형 - "${philosopher.type}"\n\n14개 딜레마 중 ${count}개에서 ${philosopher.name}의 관점과 일치!\n\n당신의 윤리 DNA는? → [게임 링크]`;
            
            navigator.clipboard.writeText(shareText).then(() => {
                alert('결과가 복사되었습니다! 친구들과 공유해보세요 🎉');
            }).catch(() => {
                alert('복사에 실패했습니다. 수동으로 복사해주세요.');
            });
        }

        function restartGame() {
            document.getElementById('result-screen').classList.add('hidden');
            document.getElementById('main-screen').classList.remove('hidden');
            currentDilemma = 0;
            choices = [];
        }

        // 키보드 단축키
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('game-screen').classList.contains('hidden')) return;
            
            if (e.key >= '1' && e.key <= '3') {
                const choiceIndex = parseInt(e.key) - 1;
                const dilemma = dilemmas[currentDilemma];
                if (dilemma && dilemma.choices[choiceIndex]) {
                    selectChoice(dilemma.choices[choiceIndex].philosopher);
                }
            }
        });
    </script>
</body>
</html>